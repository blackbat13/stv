<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
chan s_check4, s_check4_fail, s_check4_ok, s_check4_1_start, s_check4_1_end, s_check4_2_start, s_check4_2_end;</declaration><template><name x="5" y="5">Voter</name><declaration>bool p_printing, p_has_ballot, p_scanning, p_check1, p_error, p_voted, p_check2_fail, p_check2_ok, p_cast, p_check3, p_vote_ok, p_shred, p_out, p_check4, p_check4_fail, p_check4_ok, p_end;
int counter = 0;</declaration><location id="id0" x="816" y="-8"><name x="784" y="8">check2_ok</name><committed/></location><location id="id1" x="1016" y="-400"><name x="1040" y="-408">check4_ok</name><committed/></location><location id="id2" x="904" y="-400"><name x="816" y="-400">check4_fail</name><committed/></location><location id="id3" x="960" y="-448"><name x="944" y="-480">end</name><committed/></location><location id="id4" x="960" y="-352"><name x="904" y="-344">check4</name><committed/></location><location id="id5" x="960" y="-272"><name x="928" y="-296">out</name><committed/></location><location id="id6" x="960" y="-168"><name x="976" y="-184">shred</name><committed/></location><location id="id7" x="960" y="-40"><name x="952" y="-32">vote_ok</name><committed/></location><location id="id8" x="744" y="-120"><name x="656" y="-128">check2_fail</name><committed/></location><location id="id9" x="680" y="-40"><name x="664" y="-24">voted</name><committed/></location><location id="id10" x="560" y="-40"><name x="536" y="-24">scanning</name><committed/></location><location id="id11" x="424" y="-40"><name x="392" y="-24">has_ballot</name><committed/></location><location id="id12" x="288" y="-40"><name x="264" y="-24">printing</name><committed/></location><location id="id13" x="160" y="-40"><name x="144" y="-24">start</name><committed/></location><init ref="id13"/><transition><source ref="id0"/><target ref="id7"/><label kind="assignment" x="832" y="-48">p_vote_ok = true</label><label kind="comments">move_next</label></transition><transition><source ref="id9"/><target ref="id0"/><label kind="assignment" x="696" y="-48">p_check2_ok = true</label><label kind="comments">check2</label></transition><transition><source ref="id1"/><target ref="id3"/><label kind="assignment" x="992" y="-440">p_end = true</label><label kind="comments">finish</label></transition><transition><source ref="id4"/><target ref="id1"/><label kind="synchronisation" x="1000" y="-392">s_check4_ok?</label><label kind="assignment" x="984" y="-376">p_check4_ok = true</label><label kind="comments">check4</label></transition><transition><source ref="id2"/><target ref="id3"/><label kind="assignment" x="840" y="-440">p_end = true</label><label kind="comments">finish</label></transition><transition><source ref="id4"/><target ref="id2"/><label kind="synchronisation" x="800" y="-392">s_check4_fail?</label><label kind="assignment" x="808" y="-376">p_check4_fail = true</label><label kind="comments">check4</label></transition><transition><source ref="id5"/><target ref="id4"/><label kind="synchronisation" x="888" y="-320">s_check4!</label><label kind="assignment" x="968" y="-328">p_check4 = true</label><label kind="comments">move_next</label></transition><transition><source ref="id6"/><target ref="id5"/><label kind="assignment" x="968" y="-224">p_out = true</label><label kind="comments">leave</label></transition><transition><source ref="id7"/><target ref="id6"/><label kind="assignment" x="968" y="-112">p_shred = true</label><label kind="comments">shred_ballot</label></transition><transition><source ref="id8"/><target ref="id7"/><label kind="assignment" x="792" y="-112">p_vote_ok = true</label><label kind="comments">move_next</label></transition><transition><source ref="id9"/><target ref="id8"/><label kind="assignment" x="576" y="-96">p_check2_fail = true</label><label kind="comments">check2</label></transition><transition><source ref="id10"/><target ref="id9"/><label kind="assignment" x="576" y="-64">p_voted = true</label><label kind="comments">enter_vote</label></transition><transition><source ref="id11"/><target ref="id10"/><label kind="assignment" x="432" y="-64">p_scanning = true</label><label kind="comments">scan_ballot</label></transition><transition><source ref="id12"/><target ref="id11"/><label kind="assignment" x="296" y="-64">p_has_ballot = true</label><label kind="comments">print_ballot</label></transition><transition><source ref="id13"/><target ref="id12"/><label kind="assignment" x="168" y="-64">p_printing = true</label><label kind="comments">check_auth</label></transition></template><template><name>Check4SerialNumber</name><declaration>bool p_wbb_check_sn, p_receipt_check_sn;
int i = 0, n = 10;</declaration><location id="id14" x="-200" y="0"><committed/></location><location id="id15" x="352" y="0"><name x="304" y="16">receipt_check_sn</name><committed/></location><location id="id16" x="456" y="0"><name x="432" y="16">check4_1</name><committed/></location><location id="id17" x="168" y="0"><name x="136" y="-32">wbb_check_sn</name><committed/></location><location id="id18" x="0" y="0"><name x="-64" y="-8">check4</name><committed/></location><init ref="id14"/><transition><source ref="id14"/><target ref="id18"/><label kind="synchronisation" x="-160" y="-15">s_check4_1_start?</label></transition><transition><source ref="id15"/><target ref="id18"/><label kind="guard" x="184" y="-104">i &lt; n</label><label kind="assignment" x="192" y="-72">i++</label><nail x="200" y="-80"/></transition><transition><source ref="id15"/><target ref="id16"/><label kind="guard" x="384" y="-40">i == n</label><label kind="synchronisation" x="344" y="-24">s_check4_1_end!</label></transition><transition><source ref="id17"/><target ref="id15"/><label kind="assignment" x="192" y="0">p_receipt_check_sn = true</label></transition><transition><source ref="id18"/><target ref="id17"/><label kind="assignment" x="24" y="0">p_wbb_check_sn = true</label></transition></template><template><name>Check4Preferences</name><declaration>bool p_wbb_check_pr, p_receipt_check_pr;
int j = 0, m = 10;</declaration><location id="id19" x="-136" y="-8"><committed/></location><location id="id20" x="504" y="-8"><name x="480" y="8">check4_2</name><committed/></location><location id="id21" x="360" y="-8"><name x="312" y="8">receipt_check_pr</name><committed/></location><location id="id22" x="168" y="-8"><name x="136" y="-40">wbb_check_pr</name><committed/></location><location id="id23" x="0" y="-8"><name x="-48" y="8">check4_1</name><committed/></location><init ref="id19"/><transition><source ref="id19"/><target ref="id23"/><label kind="synchronisation" x="-128" y="-23">s_check4_2_start?</label></transition><transition><source ref="id21"/><target ref="id23"/><label kind="guard" x="192" y="-112">j &lt; m</label><label kind="assignment" x="168" y="-80">j++</label><nail x="208" y="-88"/></transition><transition><source ref="id21"/><target ref="id20"/><label kind="guard" x="408" y="-32">j == m</label><label kind="synchronisation" x="372" y="-23">s_check4_2_end!</label></transition><transition><source ref="id22"/><target ref="id21"/><label kind="assignment" x="200" y="-8">p_receipt_check_pr = true</label></transition><transition><source ref="id23"/><target ref="id22"/><label kind="assignment" x="32" y="-8">p_wbb_check_pr = true</label></transition></template><template><name>Check4</name><declaration>bool p_check4_1, p_check4_2;</declaration><location id="id24" x="-40" y="72"></location><location id="id25" x="-216" y="64"><committed/></location><location id="id26" x="-488" y="-16"><committed/></location><location id="id27" x="136" y="-104"><name x="96" y="-136">check4_fail</name><committed/></location><location id="id28" x="152" y="-16"><name x="120" y="8">check4_ok</name><committed/></location><location id="id29" x="64" y="-16"><name x="32" y="8">check4_2</name><committed/></location><location id="id30" x="-136" y="-16"><name x="-160" y="0">check4_1</name><committed/></location><location id="id31" x="-288" y="-16"><name x="-312" y="0">check4</name><committed/></location><init ref="id26"/><transition><source ref="id24"/><target ref="id29"/><label kind="synchronisation" x="-48" y="13">s_check4_2_end?</label><label kind="assignment" x="-48" y="28">p_check4_2 = true</label></transition><transition><source ref="id30"/><target ref="id24"/><label kind="synchronisation" x="-148" y="13">s_check4_2_start!</label></transition><transition><source ref="id25"/><target ref="id30"/><label kind="synchronisation" x="-236" y="9">s_check4_1_end?</label><label kind="assignment" x="-236" y="24">p_check4_1 = true</label></transition><transition><source ref="id31"/><target ref="id25"/><label kind="synchronisation" x="-376" y="24">s_check4_1_start!</label></transition><transition><source ref="id26"/><target ref="id31"/><label kind="synchronisation" x="-440" y="-40">s_check4?</label></transition><transition><source ref="id29"/><target ref="id27"/><label kind="synchronisation" x="0" y="-80">s_check4_fail!</label><label kind="comments">check4</label></transition><transition><source ref="id29"/><target ref="id28"/><label kind="synchronisation" x="48" y="-31">s_check4_ok!</label><label kind="comments">check4</label></transition></template><system>// Place template instantiations here.
V = Voter();
C4SN = Check4SerialNumber();
C4P = Check4Preferences();
C4 = Check4();

// List one or more processes to be composed into a system.
system V, C4SN, C4P, C4;</system></nta>